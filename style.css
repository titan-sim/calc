    :root {
      /* 공통 등급 색상 */
      --일반: #9e9e9e;
      --희귀: #4caf50;
      --에픽: #ff9800;
      --유니크: #eb5f0e;
      --전설: #ba0000;
      --primary: #2196F3;
      /* 다크 모드 (기본) */
      --bg-color: #1a252f;
      --card-bg: #2c3e50;
      --input-bg: #3e4f5f;
      --text-main: #ffffff;
      --text-sub: #bdc3c7;
      --border-color: rgba(255, 255, 255, 0.1);
      --slot-border: #4f6272;
    }

    /* 라이트 모드 클래스 */
    body.light-mode {
      --bg-color: #f0f2f5;
      --card-bg: #ffffff;
      --input-bg: #f8f9fa;
      --text-main: #2c3e50;
      --text-sub: #7f8c8d;
      --border-color: rgba(0, 0, 0, 0.1);
      --slot-border: #dcdde1;
    }

    /* 사이트 전체(HTML, BODY) 스크롤 바 숨기기 */
    html,
    body {
      -ms-overflow-style: none;
      /* IE, Edge */
      scrollbar-width: none;
      /* Firefox */
    }

    html::-webkit-scrollbar,
    body::-webkit-scrollbar {
      display: none;
      /* Chrome, Safari, Opera */
    }

    body {
      font-family: 'Pretendard', sans-serif;
      background: var(--bg-color);
      color: var(--text-main);
      padding: 20px 0;
      /* 좌우 패딩은 빼고 위아래만 줍니다 */
      display: flex;
      flex-direction: column;
      /* 세로 방향으로 쌓이게 */
      align-items: center;
      /* 가로축 중앙 정렬 */
      margin: 0;
      min-height: 100vh;
      transition: background 0.3s, color 0.3s;
      overflow-x: hidden;
      /* 가로 스크롤 방지 */
    }

    .container {
      width: 95%;
      /* 모바일 기본 여백 */
      max-width: 600px;
      /* PC 최대 너비 */
      display: flex;
      flex-direction: column;
      gap: 20px;
      box-sizing: border-box;
    }

    .card {
      background: var(--card-bg);
      border-radius: 16px;
      padding: 20px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
      width: 100%;
      /* 컨테이너에 꽉 차게 */
      box-sizing: border-box;
      margin: 0 auto;
      /* 카드 자체 중앙 정렬 */
    }

    .button-group,
    .grid-2col {
      display: flex;
      flex-wrap: nowrap;
      /* 가로 배열 유지 */
      gap: 8px;
      width: 100%;
    }

    .button-group button,
    .grid-2col>div {
      flex: 1;
      /* 모든 요소가 동일한 비율로 너비를 나눠 가짐 */
      min-width: 0;
      /* flex 아이템이 칸을 뚫고 나가는 현상 방지 */
    }

    @media (max-width: 380px) {
      body {
        font-size: 13px;
        /* 전체적인 기본 폰트 축소 */
      }

      h2 {
        font-size: 1.1rem;
        /* 제목 크기 축소 */
      }

      .stat-row {
        font-size: 12px;
        /* 전투 데이터 줄 간격과 폰트 최적화 */
      }
    }

    h2 {
      margin: 0 0 16px 0;
      font-size: 1rem;
      color: var(--text-main);
      border-bottom: 1px solid var(--border-color);
      padding-bottom: 18px;
    }

    .input-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 15px;
    }

    label {
      display: block;
      font-size: 13px;
      color: var(--text-sub);
      margin-bottom: 6px;
      font-weight: 600;
    }

    input,
    select {
      width: 100%;
      padding: 12px;
      background: var(--input-bg);
      border: 1px solid var(--border-color);
      border-radius: 8px;
      font-size: 14px;
      color: var(--text-main);
      box-sizing: border-box;
      outline: none;
      transition: background 0.3s, border 0.3s;
    }

    .full-width {
      grid-column: 1 / -1;
    }

    .slot-wrapper {
      display: grid;
      grid-template-columns: repeat(5, 1fr);
      /* 5개 유지 */
      gap: 8px;
      /* 간격을 살짝 좁힘 */
      margin-top: 10px;
      width: 100%;
      box-sizing: border-box;
    }

    .slot {
      aspect-ratio: 1;
      border: 2px dashed var(--slot-border);
      border-radius: 12px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      position: relative;
      background: var(--input-bg);
      overflow: hidden;
      transition: 0.2s;
    }

    .slot.active {
      border-color: #f1c40f;
      background: rgba(33, 150, 243, 0.1);
    }

    .slot-img {
      position: absolute;
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .slot-lv-tag {
      position: absolute;
      bottom: 0;
      width: 100%;
      background: rgba(0, 0, 0, 0.7);
      color: #fff;
      font-size: 10px;
      text-align: center;
      padding: 2px 0;
    }

    /* 룬 목록 스크롤 영역 */
    .rune-scroll-container {
      max-height: 300px;
      /* 목록의 최대 높이 (이후 스크롤 발생) */
      overflow-y: auto;
      /* 세로 스크롤 활성화 */
      padding-right: 5px;
      /* 스크롤바 디자인 (선택 사항) */
      scrollbar-width: thin;
      scrollbar-color: var(--primary) transparent;
    }

    /* 크롬, 사파리용 스크롤바 숨기기 혹은 디자인 */
    .rune-scroll-container::-webkit-scrollbar {
      width: 4px;
    }

    .rune-scroll-container::-webkit-scrollbar-thumb {
      background: var(--primary);
      border-radius: 10px;
    }

    #runePicker {
      display: none;
      margin-top: 15px;
      background: var(--input-bg);
      border-radius: 12px;
      border: 1px solid var(--border-color);
      padding: 15px;
      box-shadow: inset 0 2px 10px rgba(0, 0, 0, 0.2);
      /* 안으로 파인 느낌 */
    }

    .rune-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: clamp(8px, 2vw, 15px);
      width: 100%;
      padding: 0 !important;
      margin: 0 auto !important;
      justify-items: center;
      box-sizing: border-box;
      align-items: start;
    }

    .rune-item {
      width: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      padding: 5px 0;
      box-sizing: border-box;
    }

    /* 핵심: 고정 px 제거 및 비율형 컨테이너 */
    .rune-img-container {
      /* 부모 너비의 90%를 차지하게 하여 4열 내에서 자동 크기 조절 */
      width: 90%;
      /* 너비에 맞춰 높이를 항상 정사각형으로 유지 */
      aspect-ratio: 1 / 1;
      margin: 0 auto 8px;
      border-radius: 12px;
      overflow: hidden;
      border: 2px solid var(--slot-border);
      background: var(--bg-color);
      display: flex;
      align-items: center;
      justify-content: center;
      box-sizing: border-box;
      /* 너무 커지는 것 방지 (PC 기준) */
      max-width: 75px;
    }

    .rune-img-container img {
      width: 100%;
      height: 100%;
      /* 이미지가 찌그러지지 않게 채움 */
      object-fit: cover;
      display: block;
    }

    .rune-label {
      /* 글자 크기도 화면이 작아지면 미세하게 조정 */
      font-size: clamp(9px, 2.5vw, 11px);
      font-weight: bold;
      color: var(--text-main);
      text-align: center;
      width: 100%;
      word-break: keep-all;
      line-height: 1.2;
    }

    /* 기존 로직 유지 */
    #unsuitableGrid .rune-img-container {
      filter: grayscale(0.5) opacity(0.8);
    }

    #runeDetail {
      display: none;
      margin-top: 15px;
      padding: 15px;
      background: var(--card-bg);
      border-radius: 10px;
      border: 1px solid var(--border-color);
    }

    /* 모바일 전용 미세 조정 (미디어 쿼리 최소화) */
    @media (max-width: 480px) {
      .rune-img-container {
        /* 모바일에서는 테두리 두께를 살짝 줄여 공간 확보 */
        border-width: 1.5px;
        border-radius: 8px;
      }
    }

    .desc-box {
      font-size: 13px;
      color: var(--text-main);
      margin: 10px 0;
      padding: 10px;
      background: var(--card-bg);
      white-space: pre-line;
    }

    .btn-apply {
      width: 100%;
      padding: 14px;
      background: var(--primary);
      color: #fff;
      border: none;
      border-radius: 8px;
      font-weight: bold;
      cursor: pointer;
      margin-top: 10px;
    }

    .btn-simulate {
      width: 100%;
      padding: 16px;
      background: #e67e22;
      color: #fff;
      border: none;
      border-radius: 8px;
      font-weight: 900;
      cursor: pointer;
      margin-top: 20px;
      font-size: 1.1rem;
    }

    .report-box {
      margin-top: 20px;
      padding: 15px;
      background: var(--bg-color);
      border-radius: 12px;
      border: 1px solid var(--border-color);
      display: none;
      line-height: 1.6;
    }

    .report-item {
      color: var(--text-main);
      font-size: 14px;
      margin-bottom: 5px;
    }

    .report-val {
      color: #f1c40f;
      font-weight: bold;
      float: right;
    }

    .app-bar {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      height: 56px;
      background: var(--card-bg);
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 16px;
      z-index: 1000;
      border-bottom: 1px solid var(--border-color);
      transition: background 0.3s;
    }

    .header-left {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .menu-btn {
      background: none;
      border: none;
      color: var(--text-main);
      cursor: pointer;
    }

    .app-title .brand {
      font-size: 16px;
      font-weight: 800;
      color: var(--primary);
    }

    .app-title .sub {
      font-size: 11px;
      color: var(--text-sub);
    }

    /* 1. 그룹 설정: 2열 유지하되 내용에 따라 유연하게 */
    .stat-group {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 10px 8px;
      margin-bottom: 15px;
    }

    /* 2. 각 행: 공간이 부족하면 수치가 아래로 내려가도록 설정 */
    .stat-row {
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      gap: 8px 4px;
      /* 줄바꿈 시 행간(8px)을 주어 겹침 원천 차단 */
      margin-bottom: 10px;
    }

    /* 3. 라벨: 이름이 찌그러지지 않게 보호 */
    .stat-row span:first-child {
      flex-shrink: 0;
      white-space: nowrap;
    }

    .stat-val {
      display: inline-block;
      position: relative;
      font-weight: bold;
      color: #f1c40f !important;
      cursor: pointer;
      padding-right: 18px;
      word-break: break-all;
    }

    /* 5. 아이콘: 수치 바로 오른쪽에 고정 */
    #resRed::after,
    #resVamp::after {
      content: '⇄';
      position: absolute;
      top: 1px;
      right: 0;
      font-size: 12px;
      color: #00ffcc;
      opacity: 0.9;
      font-weight: bold;
      pointer-events: none;
      line-height: 1;
    }

    /* 6. 아주 작은 모바일 화면에서만 미세 조정 */
    @media (max-width: 360px) {
      .stat-group {
        gap: 8px 4px;
      }

      .stat-row {
        font-size: 0.9rem;
      }
    }

    /* 사이드바 애니메이션 및 스타일 */
    .side-menu {
      position: fixed;
      top: 0;
      left: -280px;
      width: 280px;
      height: 100%;
      background: var(--card-bg);
      z-index: 2000;
      transition: 0.3s ease;
      padding: 20px;
      box-sizing: border-box;
      box-shadow: 2px 0 10px rgba(0, 0, 0, 0.3);
    }

    .side-menu.open {
      left: 0;
    }

    .side-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-bottom: 1px solid var(--border-color);
      padding-bottom: 15px;
    }

    .menu-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      display: none;
      z-index: 1999;
    }

    .theme-toggle-btn {
      padding: 6px 12px;
      border-radius: 8px;
      border: 1px solid var(--border-color);
      background: var(--input-bg);
      color: var(--text-main);
      cursor: pointer;
      font-size: 13px;
    }

    /* 토글 스위치 디자인 */
    .switch {
      position: relative;
      display: inline-block;
      width: 44px;
      height: 22px;
    }

    .switch input {
      opacity: 0;
      width: 0;
      height: 0;
    }

    .slider {
      position: absolute;
      cursor: pointer;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: #ccc;
      transition: .4s;
      border-radius: 22px;
    }

    .slider:before {
      position: absolute;
      content: "";
      height: 16px;
      width: 16px;
      left: 3px;
      bottom: 3px;
      background-color: white;
      transition: .4s;
      border-radius: 50%;
    }

    /* ON 상태일 때의 배경색을 노란색(#f1c40f)으로 변경 */
    input:checked+.slider {
      background-color: #f1c40f;
    }

    /* ON 상태일 때 동그라미(before)가 이동하는 로직 */
    input:checked+.slider:before {
      transform: translateX(22px);
    }

    .hp-bar-container {
      background: #444;
      border-radius: 10px;
      height: 20px;
      width: 100%;
      margin: 10px 0;
      position: relative;
      overflow: hidden;
    }

    .hp-bar-fill {
      background: linear-gradient(90deg, #e74c3c, #2ecc71);
      height: 100%;
      width: 0%;
      transition: width 0.5s ease;
    }

    .min-record-text {
      font-size: 11px;
      color: var(--text-sub);
      text-align: right;
      display: block;
      margin-top: -5px;
    }

    .close-btn {
      background: none;
      border: none;
      color: var(--text-main);
      font-size: 20px;
      cursor: pointer;
    }

    .custom-dropdown {
      position: relative;
      width: 100%;
    }

    .selected-value {
      background: var(--input-bg);
      border: 1px solid var(--border-color);
      padding: 12px;
      border-radius: 8px;
      cursor: pointer;
      text-align: center;
      color: var(--text-main);
      position: relative;
    }

    .selected-value::after {
      content: "▼";
      position: absolute;
      right: 15px;
      font-size: 10px;
      color: #f1c40f;
    }

    .dropdown-list {
      display: none;
      position: absolute;
      top: 100%;
      left: 0;
      width: 100%;
      max-height: 250px;
      overflow-y: auto;
      background: var(--card-bg);
      border: 1px solid #f1c40f;
      border-radius: 0 0 8px 8px;
      z-index: 10000;
      padding: 0;
      margin: 0;
      list-style: none;
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.5);
      -ms-overflow-style: none;
      /* IE, Edge */
      scrollbar-width: none;
      /* Firefox */
    }

    b .dropdown-list::-webkit-scrollbar {
      display: none;
    }

    .dropdown-list li {
      padding: 10px;
      cursor: pointer;
      border-bottom: 1px solid var(--border-color);
      font-size: 14px;
    }

    .dropdown-list li:hover {
      background: var(--input-bg);
      color: #f1c40f;
    }

    /*피해 감소량, 흡혈량 표시 전환*/
    #resRed,
    #resVamp {
      position: relative;
      display: inline-block;
      padding-right: 18px;
    }

    #resRed::after,
    #resVamp::after {
      content: '⇄';
      position: absolute;
      top: -2px;
      right: 0;
      font-size: 12px;
      color: #2196F3;
      font-weight: bold;
      opacity: 0.7;
    }

    /* 마우스를 올렸을 때 더 밝게 표시 */
    #resRed:hover::after,
    #resVamp:hover::after {
      opacity: 1;
      text-shadow: 0 0 5px #00ffcc;
    }
